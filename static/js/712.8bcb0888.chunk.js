"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[712],{530:function(t,e,n){n.d(e,{IV:function(){return l},LI:function(){return i},Mc:function(){return p},wH:function(){return f},wr:function(){return s}});var r=n(861),a=n(757),u=n.n(a),c=n(243),o="1c8f6b064eb2a1f6bd306bc5a0f759ec",i=function(){var t=(0,r.Z)(u().mark((function t(e,n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&language=en-US&page=").concat(n,"&api_key=").concat(o));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(o));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},712:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var r=n(433),a=n(861),u=n(439),c=n(757),o=n.n(c),i=n(791),s=n(87),p=n(689),f=n(530),l="SearchBar_form__gW7Gj",v="SearchBar_input__bIy50",h=n(184),m=function(t){var e=t.handleSubmit,n=(0,i.useState)(""),r=(0,u.Z)(n,2),a=r[0],c=r[1];return(0,h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(a),c("")},className:l,children:[(0,h.jsx)("input",{type:"text",onChange:function(t){c(t.target.value)},value:a,className:v}),(0,h.jsx)("button",{type:"submit",children:"Search"})]})},d="LoadButton_paginationBtn__zG3Wr",b=function(t){var e=t.onUp;return(0,h.jsx)("button",{type:"submit",className:d,onClick:e,children:"Page up"})},g=function(t){var e=t.onDown;return(0,h.jsx)("button",{type:"submit",className:d,onClick:e,children:"Page down"})},_=n(124),x=function(){var t,e,n=(0,s.lr)(),c=(0,u.Z)(n,2),l=c[0],v=c[1],d=null!==(t=l.get("query"))&&void 0!==t?t:"",x=null!==(e=l.get("page"))&&void 0!==e?e:"",k=(0,i.useState)([]),y=(0,u.Z)(k,2),w=y[0],Z=y[1],S=(0,i.useState)(x),j=(0,u.Z)(S,2),L=j[0],N=j[1],q=(0,i.useState)(0),C=(0,u.Z)(q,2),M=C[0],B=C[1],I=(0,p.TH)();(0,i.useEffect)((function(){if(d||x){var t=function(){var t=(0,a.Z)(o().mark((function t(){var e,n,a,u,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.LI)(d,x);case 3:if(e=t.sent,n=e.data.results,a=e.data,u=a.total_results,c=a.total_pages,u||!d){t.next=8;break}return t.abrupt("return",alert("Wooops! We found nothing."));case 8:B(c),Z((0,r.Z)(n)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[0,12,15,17]])})));return function(){return t.apply(this,arguments)}}();t()}}),[d,x]);return(0,h.jsxs)("div",{className:_.Z.moviesSection,children:[(0,h.jsx)(m,{handleSubmit:function(t){N(1),v({query:t,page:1})}}),(0,h.jsx)("ul",{className:_.Z.moviesList,children:d?w.map((function(t){return(0,h.jsx)("li",{children:(0,h.jsx)(s.rU,{className:_.Z.movieLink,to:"".concat(t.id),state:{from:I},children:t.title})},t.id)})):null}),d&&1!==L?(0,h.jsx)(g,{onDown:function(){N((function(t){return t-1})),v({query:d,page:L-1})}}):null,d&&L!==M&&M>1?(0,h.jsx)(b,{onUp:function(){N((function(t){return t+1})),v({query:d,page:L+1})}}):null]})}},124:function(t,e){e.Z={moviesSection:"Movies_moviesSection__o4M2J",moviesList:"Movies_moviesList__lstJL",movieLink:"Movies_movieLink__ERyJ6"}}}]);
//# sourceMappingURL=712.8bcb0888.chunk.js.map