{"version":3,"file":"static/js/712.6f288c38.chunk.js","mappings":"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","sources":["api/fetchAPI.js","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","webpack://react-homework-template/./src/components/LoadButton/LoadButton.module.css?96ce","components/LoadButton/LoadButtons.jsx","pages/Movies/Movies.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"1c8f6b064eb2a1f6bd306bc5a0f759ec\";\n\nexport const fetchMoviesByQuery = async(query, page) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${query}&language=en-US&page=${page}&api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchTrendingMovies = async() => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchMovieById = async(id) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchReviewsById = async(id) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchCastById = async(id) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`\n    )\n    return response;\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"input\":\"SearchBar_input__bIy50\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types'; \nimport css from './SearchBar.module.css'\n\nexport const SearchBar = ({ handleSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const inputHandle = event => {\n    setQuery(event.target.value);\n  };\n  const onSubmit = event => {\n    event.preventDefault();\n    handleSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form onSubmit={onSubmit} className={css.form}>\n      <input type=\"text\" onChange={inputHandle} value={query} className={css.input}/>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nSearchBar.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"paginationBtn\":\"LoadButton_paginationBtn__zG3Wr\"};","import PropTypes from 'prop-types'; \nimport css from './LoadButton.module.css';\n\nexport const PageUpBtn = ({ onUp }) => {\n  return (\n    <button type=\"submit\" className={css.paginationBtn} onClick={onUp}>\n      Page up\n    </button>\n  );\n};\n\nexport const PageDownBtn = ({ onDown }) => {\n  return (\n    <button type=\"submit\" className={css.paginationBtn} onClick={onDown}>\n      Page down\n    </button>\n  );\n};\n\nPageUpBtn.propTypes = {\n  onUp: PropTypes.func.isRequired,\n}\nPageDownBtn.propTypes = {\n  onDown: PropTypes.func.isRequired,\n}","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'api/fetchAPI';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { PageUpBtn, PageDownBtn } from 'components/LoadButton/LoadButtons';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetchMoviesByQuery(query, page);\n        const movies = response.data.results;\n        const { total_results, total_pages } = response.data;\n        if (!total_results && query) {\n          return alert('Wooops! We found nothing.');\n        }\n        setTotalPages(total_pages);\n        setMovies([...movies]);\n      } catch (error) {\n        console.log(error);\n      } finally {\n      }\n    };\n    fetchData();\n  }, [query, page]);\n\n  const handleSubmit = query => {\n    setPage(1);\n    setSearchParams({ query: query });\n  };\n\n  const handleUp = () => setPage(prevPage => prevPage + 1);\n  const handleDown = () => setPage(prevPage => prevPage - 1);\n\n  return (\n    <div className={css.moviesSection}>\n      <SearchBar handleSubmit={handleSubmit} />\n      <ul className={css.moviesList}>\n        {movies.map(movie => {\n          return (\n            <li key={movie.id}>\n              <Link\n                className={css.movieLink}\n                to={`${movie.id}`}\n                state={{ from: location }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n      {page !== 1 ? <PageDownBtn onDown={handleDown} /> : null}\n      {page !== totalPages && totalPages > 1 ? (\n        <PageUpBtn onUp={handleUp} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesSection\":\"Movies_moviesSection__o4M2J\",\"moviesList\":\"Movies_moviesList__lstJL\",\"movieLink\":\"Movies_movieLink__ERyJ6\"};"],"names":["API_KEY","fetchMoviesByQuery","query","page","axios","response","fetchTrendingMovies","fetchMovieById","id","fetchReviewsById","fetchCastById","SearchBar","handleSubmit","useState","setQuery","onSubmit","event","preventDefault","className","css","type","onChange","target","value","PageUpBtn","onUp","onClick","PageDownBtn","onDown","movies","setMovies","setPage","totalPages","setTotalPages","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useEffect","fetchData","data","results","total_results","total_pages","alert","console","log","map","movie","to","state","from","title","prevPage"],"sourceRoot":""}