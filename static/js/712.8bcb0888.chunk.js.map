{"version":3,"file":"static/js/712.8bcb0888.chunk.js","mappings":"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","sources":["api/fetchAPI.js","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","webpack://react-homework-template/./src/components/LoadButton/LoadButton.module.css?96ce","components/LoadButton/LoadButtons.jsx","pages/Movies/Movies.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"1c8f6b064eb2a1f6bd306bc5a0f759ec\";\n\nexport const fetchMoviesByQuery = async(query, page) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${query}&language=en-US&page=${page}&api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchTrendingMovies = async() => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchMovieById = async(id) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchReviewsById = async(id) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`\n    )\n    return response;\n}\n\nexport const fetchCastById = async(id) => {\n    const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`\n    )\n    return response;\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"input\":\"SearchBar_input__bIy50\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types'; \nimport css from './SearchBar.module.css'\n\nexport const SearchBar = ({ handleSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const inputHandle = event => {\n    setQuery(event.target.value);\n  };\n  const onSubmit = event => {\n    event.preventDefault();\n    handleSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form onSubmit={onSubmit} className={css.form}>\n      <input type=\"text\" onChange={inputHandle} value={query} className={css.input}/>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nSearchBar.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"paginationBtn\":\"LoadButton_paginationBtn__zG3Wr\"};","import PropTypes from 'prop-types'; \nimport css from './LoadButton.module.css';\n\nexport const PageUpBtn = ({ onUp }) => {\n  return (\n    <button type=\"submit\" className={css.paginationBtn} onClick={onUp}>\n      Page up\n    </button>\n  );\n};\n\nexport const PageDownBtn = ({ onDown }) => {\n  return (\n    <button type=\"submit\" className={css.paginationBtn} onClick={onDown}>\n      Page down\n    </button>\n  );\n};\n\nPageUpBtn.propTypes = {\n  onUp: PropTypes.func.isRequired,\n}\nPageDownBtn.propTypes = {\n  onDown: PropTypes.func.isRequired,\n}","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'api/fetchAPI';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { PageUpBtn, PageDownBtn } from 'components/LoadButton/LoadButtons';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const pageURL = searchParams.get('page') ?? '';\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(pageURL);\n  const [totalPages, setTotalPages] = useState(0);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query && !pageURL) {\n      return;\n    }\n    const fetchData = async () => {\n      try {\n        const response = await fetchMoviesByQuery(query, pageURL);\n        const movies = response.data.results;\n        const { total_results, total_pages } = response.data;\n        if (!total_results && query) {\n          return alert('Wooops! We found nothing.');\n        }\n        setTotalPages(total_pages);\n        setMovies([...movies]);\n      } catch (error) {\n        console.log(error);\n      } finally {\n      }\n    };\n    fetchData();\n  }, [query, pageURL]);\n\n  const handleSubmit = query => {\n    setPage(1);\n    setSearchParams({ query: query, page: 1 });\n  };\n\n  const handleUp = () => {\n    setPage(prevPage => prevPage + 1);\n    setSearchParams({ query: query, page: page + 1 });\n  };\n\n  const handleDown = () => {\n    setPage(prevPage => prevPage - 1);\n    setSearchParams({ query: query, page: page - 1 });\n  };\n\n  return (\n    <div className={css.moviesSection}>\n      <SearchBar handleSubmit={handleSubmit} />\n      <ul className={css.moviesList}>\n        {query\n          ? movies.map(movie => {\n              return (\n                <li key={movie.id}>\n                  <Link\n                    className={css.movieLink}\n                    to={`${movie.id}`}\n                    state={{ from: location }}\n                  >\n                    {movie.title}\n                  </Link>\n                </li>\n              );\n            })\n          : null}\n      </ul>\n      {query && page !== 1 ? <PageDownBtn onDown={handleDown} /> : null}\n      {query && page !== totalPages && totalPages > 1 ? (\n        <PageUpBtn onUp={handleUp} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesSection\":\"Movies_moviesSection__o4M2J\",\"moviesList\":\"Movies_moviesList__lstJL\",\"movieLink\":\"Movies_movieLink__ERyJ6\"};"],"names":["API_KEY","fetchMoviesByQuery","query","page","axios","response","fetchTrendingMovies","fetchMovieById","id","fetchReviewsById","fetchCastById","SearchBar","handleSubmit","useState","setQuery","onSubmit","event","preventDefault","className","css","type","onChange","target","value","PageUpBtn","onUp","onClick","PageDownBtn","onDown","useSearchParams","searchParams","setSearchParams","get","pageURL","movies","setMovies","setPage","totalPages","setTotalPages","location","useLocation","useEffect","fetchData","data","results","total_results","total_pages","alert","console","log","map","movie","to","state","from","title","prevPage"],"sourceRoot":""}